# libzip-xcode-custom

Xcode project for building [libzip](https://github.com/nih-at/libzip) using custom `libzip` flags. 

Everything in this repository is available under the [3-Clause BSD License](https://opensource.org/licenses/BSD-3-Clause).

The libzip.xcodeproj was generated from CMake via `./generate-libzip.xcodeproj.sh`. The script heavily patches the Xcode project file generated by CMake as it uses absolute paths and contains a lot oft cruft. 

The Xcode project included with `libzip` is unsupported and uses dependencies that tie the resulting binary to the dev machine. Particularly, `Zstandard`. Of course, as `Zstandard` uses CMake itself, this project-patching approach could be applied to it, but I don’t need `Zstandard` so I didn’t.

One approach to improve on the script would be to rewrite it in something better than bash, which is what I started out using. Maybe Python and a library like [mod-pbxproj](https://github.com/kronenthaler/mod-pbxproj) or even Objective-C/Swift using [XcodeEditor](https://github.com/appsquickly/XcodeEditor).

The (pretty crude) technique used in the script should be adaptable to other projects using CMake so they can be integrated into the Xcode IDE toolchain. This got particularly important for me, because of the need to generate Universal builds for lipzip. 


## Sidenotes

[mulle-xcode-to-cmake](https://github.com/mulle-nat/mulle-xcode-to-cmake) exists. 

[Library To Read/Write Pbxproj/Xcodeproj Files?](https://izziswift.com/library-to-read-write-pbxproj-xcodeproj-files/) lists different approaches for dealing with Xcode project files. 
